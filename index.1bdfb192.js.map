{"mappings":"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","sources":["src/components/text/index.ts","src/components/to-do-item/index.ts","src/state.ts","src/pages/to-do/index.ts","src/router.ts","src/pages/done/index.ts","src/index.ts"],"sourcesContent":["export class Text extends HTMLElement {\r\n  shadow: ShadowRoot;\r\n  tagName: string;\r\n  tags: string[] = [\"h1\", \"h2\", \"p\"];\r\n  tag: string = \"p\";\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: \"open\" });\r\n\r\n    if (this.tags.includes(this.getAttribute(\"tag\"))) {\r\n      this.tag = this.getAttribute(\"tag\") || this.tag;\r\n    }\r\n    this.render();\r\n  }\r\n  render() {\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = `\r\n    h1{\r\n        font-size: 25pxpx;\r\n        font-weight: bold;\r\n        background-color: blue;\r\n        max-width: 98%;\r\n      }\r\n      h2{\r\n        font-size: 25px;\r\n        font-weight: bold;\r\n        height: 35px;\r\n      }\r\n      h2:hover{\r\n          background-color: #fff;\r\n      }\r\n      p{\r\n        font-size: 18px;\r\n        \r\n        color: #00d1b2;\r\n      }\r\n      h1,\r\n      h2{\r\n        font-family: 'Fira Sans', sans-serif;\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n        color: #000;\r\n        border-radius: 10px;\r\n        text-align: center;\r\n      }\r\n      `;\r\n    const rootEl = document.createElement(this.tag);\r\n    rootEl.textContent = this.textContent;\r\n    this.shadow.appendChild(style);\r\n    this.shadow.appendChild(rootEl);\r\n  }\r\n}\r\ncustomElements.define(\"my-text\", Text);\r\n","customElements.define(\r\n  \"to-do-item\",\r\n  class extends HTMLElement {\r\n    shadow: ShadowRoot;\r\n    title: string;\r\n    checked: boolean = false;\r\n    constructor() {\r\n      super();\r\n      this.shadow = this.attachShadow({ mode: \"open\" });\r\n    }\r\n    connectedCallback() {\r\n      this.title = this.getAttribute(\"title\") || \"\";\r\n      this.checked = this.hasAttribute(\"checked\");\r\n      this.id = this.getAttribute(\"id\");\r\n\r\n      const style = document.createElement(\"style\");\r\n      style.innerText = `\r\n       \r\n        .item {\r\n            display: flex;\r\n            justify-content: space-between;\r\n            padding: 22px 13px;\r\n            font-size: 18px;\r\n            background-color: rgba(255, 255, 255, 0.5);\r\n            color: #000;\r\n            border-radius: 10px;\r\n        }\r\n        @media (max-width: 912px) {\r\n          .item{\r\n            flex-direction: column;\r\n          }\r\n        }\r\n\r\n        .titulo.checked{\r\n            text-decoration: line-through;\r\n        }\r\n        .checkbox-input {\r\n          margin-top: 15px;\r\n          height: 20px;\r\n          width: 20px;\r\n        }\r\n        `;\r\n\r\n      this.shadow.appendChild(style);\r\n      this.render();\r\n    }\r\n\r\n    addListeners() {\r\n      const checkedElement = this.shadow.querySelector(\".checkbox-input\");\r\n      checkedElement.addEventListener(\"click\", (e) => {\r\n        const target = e.target as any;\r\n        const event = new CustomEvent(\"change\", {\r\n          detail: {\r\n            id: this.id,\r\n            value: target.checked,\r\n            deleted: true\r\n          },\r\n        });\r\n \r\n        this.dispatchEvent(event);\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const div = document.createElement(\"div\");\r\n      div.innerHTML = `\r\n      <my-text tag=\"p\" class=\"titulo ${this.checked ? \"checked\" : \"\"}\"> ${\r\n        this.title\r\n      } </my-text>\r\n      <input class=\"checkbox-input\" type=\"checkbox\"\r\n      ${this.checked ? \"checked\" : \"\"}\r\n      />\r\n      `;\r\n\r\n      div.classList.add(\"item\");\r\n\r\n      this.shadow.appendChild(div);\r\n      this.addListeners();\r\n    }\r\n  }\r\n);\r\n","const state = {\r\n  data: {\r\n    tasks: [\r\n      { id: 1, title: \"primer item\", completed: false },\r\n      { id: 2, title: \"segundo item\", completed: false },\r\n      { id: 3, title: \"tercer item\", deleted: true },\r\n    ],\r\n  },\r\n  listeners: [],\r\n  getState() {\r\n    if (localStorage.getItem(\"saved-state\")) {\r\n      this.data = JSON.parse(localStorage.getItem(\"saved-state\"));\r\n    } \r\n    return this.data;\r\n  },\r\n  getEnabledTasks() {\r\n    const currentState = this.getState();\r\n    return currentState.tasks.filter((t) => t.completed == false);\r\n  },\r\n  getDisabledTasks(){\r\n    const currentState = this.getState();\r\n    return currentState.tasks.filter((t) => !t.completed == false);\r\n  }\r\n  ,\r\n  addTask(id, title) {\r\n    const currentState = this.getState();\r\n    currentState.tasks.push({ id: id, title, completed: false });\r\n    this.setState(currentState);\r\n  },\r\n  changeItemState(id, value) {\r\n    const currentState = this.getState();\r\n    const found = currentState.tasks.find((t) => t.id == id);\r\n    found.completed = value;\r\n    console.log(found);\r\n    this.setState(currentState);\r\n  },\r\n  setState(newState) {\r\n    this.data = newState;\r\n    for (const cb of this.listeners) {\r\n      cb();\r\n    }\r\n    localStorage.setItem(\"saved-state\", JSON.stringify(newState));\r\n  },\r\n  suscribe(callback: (any) => any) {\r\n    this.listeners.push(callback);\r\n  },\r\n};\r\nexport { state };\r\n","import { state } from \"../../state\";\r\n\r\nexport function initToDoPage(containerEl) {\r\n  const div = document.querySelector(\".root\");\r\n\r\n  const tasks = state.getEnabledTasks();\r\n\r\n  div.innerHTML = `\r\n  <div class=\"nav\">\r\n  <button class=\"button-todo button is-primary is-light is-responsive\">Pendientes</button>\r\n  <button class=\"button-done button is-primary is-responsive\">Realizados</button>\r\n  </div>\r\n\r\n  <div class=\"header\">\r\n  <input class=\"inputEl input is-success\" type=\"text\" placeholder=\"Nuevo pendiente\">\r\n  <button class=\"add-button button is-primary\">Agregar</button>\r\n  </div>\r\n\r\n\r\n  <ul class=\"lista\"></ul> \r\n  <div class=\"pagenumbers\" id=\"pagination\"></div>\r\n  \r\n  `;\r\n\r\n  const tasksList = div.querySelector(\".lista\");\r\n\r\n  function createTasks(items) {\r\n    tasksList.innerHTML = \"\";\r\n    for (const item of items) {\r\n      const toDoItemEl = document.createElement(\"to-do-item\");\r\n      toDoItemEl.setAttribute(\"id\", item.id);\r\n      toDoItemEl.setAttribute(\"title\", item.title);\r\n      if (item.completed) {\r\n        toDoItemEl.setAttribute(\"checked\", \"true\");\r\n      }\r\n      toDoItemEl.addEventListener(\"change\", (e: any) => {\r\n        console.log(e);\r\n        state.changeItemState(e.detail.id, e.detail.value);\r\n      });\r\n      tasksList.appendChild(toDoItemEl);\r\n    }\r\n  }\r\n\r\n  state.suscribe(() => {\r\n    createTasks(state.getEnabledTasks());\r\n  });\r\n\r\n  createTasks(tasks);\r\n\r\n \r\n  div.querySelector(\".add-button\").addEventListener(\"click\", () => {\r\n    const inputEl = document.querySelector(\"input\");\r\n    let title = inputEl.value;\r\n    state.addTask(Math.random(), title);\r\n  });\r\n\r\n  div.querySelector(\".button-todo\").addEventListener(\"click\", () => {\r\n    containerEl.goTo(\"/personal-tracker/to-do\");\r\n  });\r\n  div.querySelector(\".button-done\").addEventListener(\"click\", () => {\r\n    containerEl.goTo(\"/personal-tracker/done\");\r\n  });\r\n\r\n\r\n \r\n  return div;\r\n}\r\n","import { initDonePage } from \"./pages/done\";\r\nimport { initToDoPage } from \"./pages/to-do\";\r\nimport { state } from \"./state\";\r\n\r\nconst routes = [\r\n  {\r\n    path: /personal-tracker/,\r\n    component: initToDoPage,\r\n  },\r\n  {\r\n    path: /\\/personal-tracker\\/done/,\r\n    component: initDonePage,\r\n  },\r\n  {\r\n    path: /\\/personal-tracker\\/to-do/,\r\n    component: initToDoPage,\r\n  },\r\n];\r\n\r\nexport function initRouter(conteiner: any) {\r\n  function goTo(path) {\r\n    history.pushState({}, \"\", path);\r\n    handleRoute(path);\r\n  }\r\n\r\n  function handleRoute(route) {\r\n    console.log(\"El handleRoute recibió una nueva ruta\", route);\r\n\r\n    for (const r of routes) {\r\n      if (r.path.test(route)) {\r\n        const el = r.component({ lastState: state.getState(), goTo: goTo });\r\n\r\n        if (conteiner.firstChild) {\r\n          conteiner.firstChild.remove(el);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (location.host.includes(\"github.io\")) {\r\n    goTo(\"/personal-tracker/\");\r\n  } else {\r\n    handleRoute(location.pathname);\r\n  }\r\n\r\n  window.onpopstate = function () {\r\n    handleRoute(location.pathname);\r\n  };\r\n}\r\n","import { state } from \"../../state\";\r\n\r\nexport function initDonePage(containerEl) {\r\n  const div = document.querySelector(\".root\");\r\n\r\n  const tasks = state.getDisabledTasks();\r\n\r\n  div.innerHTML = ` \r\n\r\n  <div class=\"nav\">\r\n  <button class=\"button-todo button is-primary  is-responsive\">Pendientes</button>\r\n  <button class=\"button-done button is-primary is-light is-responsive\">Realizados</button>\r\n  </div>\r\n\r\n  <div class=\"header\">\r\n  <input class=\"inputEl input is-success\" type=\"text\" placeholder=\"Nuevo pendiente\">\r\n  <button class=\"add-button button is-primary\">Agregar</button>\r\n  </div>\r\n  \r\n  <ul class=\"lista\"></ul> \r\n  <div class=\"pagenumbers\" id=\"pagination\"></div>\r\n  \r\n  `;\r\n\r\n  const tasksList = div.querySelector(\".lista\");\r\n\r\n  function createTasks(items) {\r\n    tasksList.innerHTML = \"\";\r\n    for (const item of items) {\r\n      const toDoItemEl = document.createElement(\"to-do-item\");\r\n      toDoItemEl.setAttribute(\"id\", item.id);\r\n      toDoItemEl.setAttribute(\"title\", item.title);\r\n      if (item.completed) {\r\n        toDoItemEl.setAttribute(\"checked\", \"true\");\r\n      }\r\n      toDoItemEl.addEventListener(\"change\", (e: any) => {\r\n        state.changeItemState(e.detail.id, e.detail.value);\r\n      });\r\n      tasksList.appendChild(toDoItemEl);\r\n    }\r\n  }\r\n\r\n  state.suscribe(() => {\r\n    createTasks(state.getDisabledTasks());\r\n  });\r\n\r\n  createTasks(tasks);\r\n\r\n  div.querySelector(\".add-button\").addEventListener(\"click\", () => {\r\n    const inputEl = document.querySelector(\"input\");\r\n    let title = inputEl.value;\r\n    state.addTask(Math.random(), title);\r\n  });\r\n\r\n  div.querySelector(\".button-todo\").addEventListener(\"click\", () => {\r\n    containerEl.goTo(\"/personal-tracker/to-do\");\r\n  });\r\n  div.querySelector(\".button-done\").addEventListener(\"click\", () => {\r\n    containerEl.goTo(\"/personal-tracker/done\");\r\n  });\r\n\r\n  return div;\r\n}\r\n","import \"./components/text\";\r\nimport \"./components/to-do-item\";\r\nimport { initRouter } from \"./router\";\r\nimport { state } from \"./state\";\r\n\r\nfunction main() {\r\n  const rootElement = document.querySelector(\".root\");\r\n  initRouter(rootElement);\r\n  state.getState();\r\n}\r\nmain();\r\n"],"names":["$b87b8a881a37c7b5$export$a90b6065d292b1b0","HTMLElement","super","tags","tag","shadow","this","attachShadow","mode","includes","getAttribute","render","style","document","createElement","innerHTML","rootEl","textContent","appendChild","customElements","define","checked","connectedCallback","title","hasAttribute","id","innerText","addListeners","querySelector","addEventListener","e","target","event","CustomEvent","detail","value","deleted","dispatchEvent","div","classList","add","$792e4afce125cd80$export$c837a8b98c265ae3","data","tasks","completed","listeners","getState","localStorage","getItem","JSON","parse","getEnabledTasks","filter","t","getDisabledTasks","addTask","currentState","push","setState","changeItemState","found","find","console","log","newState","cb","setItem","stringify","suscribe","callback","$da5d819811de6cc8$export$d5d88de3043c6ac8","containerEl","tasksList","createTasks","items","item","toDoItemEl","setAttribute","Math","random","goTo","$1f0246c3bb9f020c$var$routes","path","component","conteiner","history","pushState","handleRoute","route","r","test","el","lastState","firstChild","remove","location","host","pathname","window","onpopstate","$1f0246c3bb9f020c$export$f03b0d45d4202f55"],"version":3,"file":"index.1bdfb192.js.map"}