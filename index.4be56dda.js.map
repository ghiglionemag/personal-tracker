{"mappings":"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","sources":["src/components/text/index.ts","src/components/nav/index.ts","src/components/to-do-item/index.ts","src/state.ts","src/pages/home/index.ts","src/index.ts"],"sourcesContent":["export class Text extends HTMLElement {\r\n  shadow: ShadowRoot;\r\n  tagName: string;\r\n  tags: string[] = [\"h1\", \"h2\", \"p\"];\r\n  tag: string = \"p\";\r\n  constructor() {\r\n    super();\r\n    this.shadow = this.attachShadow({ mode: \"open\" });\r\n\r\n    if (this.tags.includes(this.getAttribute(\"tag\"))) {\r\n      this.tag = this.getAttribute(\"tag\") || this.tag;\r\n    }\r\n    this.render();\r\n  }\r\n  render() {\r\n    const style = document.createElement(\"style\");\r\n    style.innerHTML = `\r\n    h1{\r\n        font-size: 52px;\r\n        font-weight: bold;\r\n        background-color: blue;\r\n        max-width: 98%;\r\n      }\r\n      h2{\r\n        font-size: 25px;\r\n        font-weight: bold;\r\n        height: 35px;\r\n      }\r\n      h2:hover{\r\n          background-color: #fff;\r\n      }\r\n      p{\r\n        font-family: \"Roboto\";\r\n        font-size: 18px;\r\n      }\r\n      h1,\r\n      h2{\r\n        font-family: 'Fira Sans', sans-serif;\r\n        background-color: rgba(255, 255, 255, 0.5);\r\n        color: #000;\r\n        border-radius: 10px;\r\n        text-align: center;\r\n        color: #000;\r\n        -webkit-box-shadow: -6px 8px 6px -6px black;\r\n        -moz-box-shadow: 0 8px 6px -6px black;\r\n         box-shadow: 0 8px 6px -6px black;\r\n      }\r\n      `;\r\n    const rootEl = document.createElement(this.tag);\r\n    rootEl.textContent = this.textContent;\r\n    this.shadow.appendChild(style);\r\n    this.shadow.appendChild(rootEl);\r\n  }\r\n}\r\ncustomElements.define(\"my-text\", Text);\r\n","import { state } from \"../../state\";\r\n\r\nexport class NavComponent extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n    this.render();\r\n  }\r\n  render() {\r\n    const shadow = this.attachShadow({ mode: \"open\" });\r\n\r\n    const div = document.createElement(\"div\");\r\n\r\n    const style = document.createElement(\"style\");\r\n    style.innerText = `\r\n       .nav{\r\n        padding: 15px;\r\n       }\r\n        `;\r\n    div.innerHTML = `\r\n        \r\n          <my-text tag=\"h2\">Pendientes</my-text>\r\n          <my-text tag=\"h2\">Realizados</my-text>\r\n        `;\r\n    div.classList.add(\"nav\");\r\n    shadow.appendChild(div);\r\n    shadow.appendChild(style)\r\n  }\r\n}\r\ncustomElements.define(\"nav-comp\", NavComponent);\r\n","customElements.define(\r\n  \"to-do-item\",\r\n  class extends HTMLElement {\r\n    shadow: ShadowRoot;\r\n    title: string;\r\n    checked: boolean = false;\r\n    constructor() {\r\n      super();\r\n      this.shadow = this.attachShadow({ mode: \"open\" });\r\n    }\r\n    connectedCallback() {\r\n      this.title = this.getAttribute(\"title\") || \"\";\r\n      this.checked = this.hasAttribute(\"checked\");\r\n      this.id = this.getAttribute(\"id\");\r\n\r\n      const style = document.createElement(\"style\");\r\n      style.innerText = `\r\n       \r\n        .root{\r\n            border-radius: 2px;\r\n            padding: 22px 13px;\r\n            font-size: 18px;\r\n            background-color: rgba(255, 255, 255, 0.5);\r\n            color: #000;\r\n            border-radius: 10px;\r\n            color: #000;\r\n            -webkit-box-shadow: 0 8px 6px -6px black;\r\n            -moz-box-shadow: 0 8px 6px -6px black;\r\n            box-shadow: 0 8px 6px -6px black;\r\n        }\r\n\r\n        .titulo.checked{\r\n            text-decoration: line-through;\r\n        }\r\n        `;\r\n\r\n      this.shadow.appendChild(style);\r\n      this.render();\r\n    }\r\n\r\n    addListeners() {\r\n      const checkedElement = this.shadow.querySelector(\".checkbox-input\");\r\n      checkedElement.addEventListener(\"click\", (e) => {\r\n        const target = e.target as any;\r\n        const event = new CustomEvent(\"change\", {\r\n          detail: {\r\n            id: this.id,\r\n            value: target.checked,\r\n          },\r\n        });\r\n        this.dispatchEvent(event);\r\n      });\r\n    }\r\n\r\n    render() {\r\n      const div = document.createElement(\"div\");\r\n      div.innerHTML = `\r\n      <my-text tag=\"p\" class=\"titulo ${this.checked ? \"checked\" : \"\"}\"> ${\r\n        this.title\r\n      } </my-text>\r\n      <input class=\"checkbox-input\" type=\"checkbox\"\r\n      ${this.checked ? \"checked\" : \"\"}\r\n      />\r\n      `;\r\n\r\n      div.classList.add(\"root\");\r\n\r\n      this.shadow.appendChild(div);\r\n      this.addListeners();\r\n    }\r\n  }\r\n);\r\n","const state = {\r\n  data: {\r\n    tasks: [\r\n      { id: 1, title: \"primer item\", completed: false },\r\n      { id: 2, title: \"segundo item\", completed: false },\r\n      { id: 3, title: \"tercer item\", deleted: true },\r\n    ],\r\n  },\r\n  listeners: [],\r\n  initState() {\r\n    const localData = localStorage.getItem(\"saved-state\");\r\n    this.setState(JSON.parse(localData));\r\n  },\r\n  getState() {\r\n    return this.data;\r\n  },\r\n  getEnabledTasks() {\r\n    const currentState = this.getState();\r\n    return currentState.tasks.filter((t) => !t.deleted);\r\n  },\r\n  addTask(id, title) {\r\n    const currentState = this.getState();\r\n    currentState.tasks.push({ id: id, title, completed: false });\r\n    this.setState(currentState);\r\n  },\r\n  changeItemState(id, value) {\r\n    const currentState = this.getState();\r\n    const found = currentState.tasks.find((t) => t.id == id);\r\n    found.completed = value;\r\n    this.setState(currentState);\r\n  },\r\n  setState(newState) {\r\n    this.data = newState;\r\n    for (const cb of this.listeners) {\r\n      cb();\r\n    }\r\n    localStorage.setItem(\"saved-state\", JSON.stringify(newState));\r\n  },\r\n  suscribe(callback: (any) => any) {\r\n    this.listeners.push(callback);\r\n  },\r\n};\r\nexport { state };\r\n","import { state } from \"../../state\";\r\n\r\nexport function initHomePage(containerEl) {\r\n  const div = document.createElement(\"div\");\r\n  const tasks = state.getEnabledTasks();\r\n\r\n  div.innerHTML = ` \r\n  <div class=\"header\">\r\n  <my-text tag=\"h1\"> Mis pendientes </my-text> \r\n  <input class=\"inputEl\" type=\"text\" placeholder=\"Nuevo pendiente\">\r\n  <button class=\"add-button\">Agregar</button>\r\n  </div>\r\n  <ul class=\"lista\"></ul> \r\n\r\n  \r\n  `;\r\n\r\n  const tasksList = div.querySelector(\".lista\");\r\n\r\n  function createTasks(items) {\r\n    tasksList.innerHTML = \"\";\r\n    for (const item of items) {\r\n      const toDoItemEl = document.createElement(\"to-do-item\");\r\n      toDoItemEl.setAttribute(\"id\", item.id);\r\n      toDoItemEl.setAttribute(\"title\", item.title);\r\n      if (item.completed) {\r\n        toDoItemEl.setAttribute(\"checked\", \"true\");\r\n      }\r\n      toDoItemEl.addEventListener(\"change\", (e: any) => {\r\n        state.changeItemState(e.detail.id, e.detail.value);\r\n      });\r\n      tasksList.appendChild(toDoItemEl);\r\n    }\r\n  }\r\n\r\n  state.suscribe(() => {\r\n    createTasks(state.getEnabledTasks());\r\n  });\r\n\r\n  createTasks(tasks);\r\n  \r\n  div.classList.add(\"to-do\")\r\n  const style = document.createElement(\"style\");\r\n    style.innerText = `\r\n       .root{\r\n        height: 100%;\r\n       .to-do{\r\n        height: 100%\r\n        display: grid;\r\n        grid-template-rows: 20% 60%;\r\n       }\r\n        `;\r\n\r\n  div.querySelector(\".add-button\").addEventListener(\"click\", () => {\r\n    const inputEl = document.querySelector(\"input\");\r\n    let title = inputEl.value;\r\n    state.addTask(Math.random(), title);\r\n  });\r\n\r\n  containerEl.appendChild(div);\r\n  containerEl.appendChild(style)\r\n}\r\n","import \"./components/text\"\r\nimport \"./components/nav\"\r\nimport \"./components/to-do-item\";\r\nimport { initHomePage } from \"./pages/home\";\r\nimport { state } from \"./state\";\r\n\r\nfunction main() {\r\n  const rootElement = document.querySelector(\".root\");\r\n  initHomePage(rootElement);\r\n  state.initState();\r\n}\r\nmain();\r\n"],"names":["$b87b8a881a37c7b5$export$a90b6065d292b1b0","HTMLElement","super","tags","tag","shadow","this","attachShadow","mode","includes","getAttribute","render","style","document","createElement","innerHTML","rootEl","textContent","appendChild","customElements","define","$29d141925cc32839$export$3713a03b2c26c14e","div","innerText","classList","add","checked","connectedCallback","title","hasAttribute","id","addListeners","querySelector","addEventListener","e","target","event","CustomEvent","detail","value","dispatchEvent","$792e4afce125cd80$export$c837a8b98c265ae3","data","tasks","completed","deleted","listeners","initState","localData","localStorage","getItem","setState","JSON","parse","getState","getEnabledTasks","filter","t","addTask","currentState","push","changeItemState","find","newState","cb","setItem","stringify","suscribe","callback","containerEl","tasksList","createTasks","items","item","toDoItemEl","setAttribute","Math","random","$75d7da451051ab0b$export$36e0f3cd0ce1227"],"version":3,"file":"index.4be56dda.js.map"}